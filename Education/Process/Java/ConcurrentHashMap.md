`ConcurrentHashMap`¬†‚Äî —ç—Ç–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è¬†`HashMap`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—Ç–æ–∫–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–∞—Ä—Ç—É –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `HashMap`, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è** –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ **—Å–æ—Å—Ç–æ—è–Ω–∏—è–º –≥–æ–Ω–∫–∏** –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏, `ConcurrentHashMap` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É** (lock stripping), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
### ‚ùì **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ConcurrentHashMap`?**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ConcurrentHashMap`, –µ—Å–ª–∏:  
‚úÖ –í–∞–º –Ω—É–∂–µ–Ω **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø** –∫ –∫–∞—Ä—Ç–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.  
‚úÖ –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ **–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ**, –≥–¥–µ —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏.  
‚úÖ –í–∞–º –≤–∞–∂–Ω–∞ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî `ConcurrentHashMap` –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `Collections.synchronizedMap(new HashMap<>())`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—é –∫–∞—Ä—Ç—É.

–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ConcurrentHashMap`, –µ—Å–ª–∏:  
‚ùå –í–∞–º –≤–∞–∂–µ–Ω **–ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ConcurrentSkipListMap`).  
‚ùå –í—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ ‚Äî –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–π `HashMap` –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–µ–µ.  
‚ùå –í–∞–º –Ω—É–∂–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `ConcurrentHashMap`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `null`-–∫–ª—é—á–∏ –∏–ª–∏ `null`-–∑–Ω–∞—á–µ–Ω–∏—è.
**–ü—Ä–∏–º–µ—Ä:**
![](Pasted%20image%2020250201181928.png)
üìå **–í–∞–∂–Ω–æ:** –í `ConcurrentHashMap` **–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è**.

---

### ‚ùì **–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HashMap` –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ?**

üö® **–ù–µ—Ç!** `HashMap` **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º**, –∏ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:

1. **–ü–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏.
2. **–ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—é** (`infinite loop`) –≤–æ –≤—Ä–µ–º—è `rehash()`, –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –∏–∑–º–µ–Ω—è—é—Ç `HashMap` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
3. **ConcurrentModificationException** –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ï—Å–ª–∏ –≤–∞–º **–Ω—É–∂–µ–Ω –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–Ω–∞–ª–æ–≥** –æ–±—ã—á–Ω–æ–≥–æ `HashMap`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

- `ConcurrentHashMap` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
- `Collections.synchronizedMap(new HashMap<>())` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
- `ConcurrentSkipListMap` ‚Äî –µ—Å–ª–∏ –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

üîπ **–í—ã–≤–æ–¥**: –í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ `HashMap` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è. –õ—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å `ConcurrentHashMap` –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏. üöÄ